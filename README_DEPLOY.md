# üöÄ –ì–æ—Ç–æ–≤–æ –∫ –¥–µ–ø–ª–æ—é –Ω–∞ —Å–µ—Ä–≤–µ—Ä!

–í—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è —á–µ—Ä–µ–∑ Docker –Ω–∞ –ø—Ä–æ–¥–∞–∫—à–Ω —Å–µ—Ä–≤–µ—Ä.

## ‚ö° –°—É–ø–µ—Ä-–±—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç (2 –∫–æ–º–∞–Ω–¥—ã!)

### –ù–∞ –≤–∞—à–µ–π –º–∞—à–∏–Ω–µ:
```bash
./deploy.sh
```

### –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:
```bash
bash server-setup.sh
docker-compose up -d
```

**–ì–æ—Ç–æ–≤–æ!** API —Ä–∞–±–æ—Ç–∞–µ—Ç –Ω–∞ `http://YOUR_SERVER_IP:8000`

---

## üì¶ –ß—Ç–æ –≤–∫–ª—é—á–µ–Ω–æ

### –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏:
- ‚úÖ `docker-compose.prod.yml` - Production –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
- ‚úÖ `.env.production` - –®–∞–±–ª–æ–Ω –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è
- ‚úÖ `Dockerfile` - –û–±—Ä–∞–∑ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ `.dockerignore` - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏

### –°–∫—Ä–∏–ø—Ç—ã –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏:
- ‚úÖ `deploy.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –¥–µ–ø–ª–æ–π –Ω–∞ Docker Hub
- ‚úÖ `server-setup.sh` - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞

### –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:
- ‚úÖ `DEPLOY_RU.md` - –ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è –Ω–∞ —Ä—É—Å—Å–∫–æ–º üá∑üá∫
- ‚úÖ `DEPLOY.md` - –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –Ω–∞ –∞–Ω–≥–ª–∏–π—Å–∫–æ–º üá¨üáß
- ‚úÖ `QUICK_DEPLOY.txt` - –®–ø–∞—Ä–≥–∞–ª–∫–∞ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–µ–ø–ª–æ—è

---

## üéØ –í—ã–±–µ—Ä–∏—Ç–µ –º–µ—Ç–æ–¥ –¥–µ–ø–ª–æ—è

### –ú–µ—Ç–æ–¥ 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π (–ø—Ä–æ—â–µ –≤—Å–µ–≥–æ) ‚≠ê

**–®–∞–≥ 1 - –ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
```bash
chmod +x deploy.sh
./deploy.sh
```
–í–≤–µ–¥–∏—Ç–µ –≤–∞—à Docker Hub username, –æ—Å—Ç–∞–ª—å–Ω–æ–µ —Å–¥–µ–ª–∞–µ—Ç —Å–∫—Ä–∏–ø—Ç.

**–®–∞–≥ 2 - –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å —Å–∫—Ä–∏–ø—Ç –Ω–∞ —Å–µ—Ä–≤–µ—Ä
scp server-setup.sh user@your-server:~/

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ –∑–∞–ø—É—Å—Ç–∏—Ç—å
bash server-setup.sh
exit  # –≤—ã–π—Ç–∏ –∏ –≤–æ–π—Ç–∏ —Å–Ω–æ–≤–∞

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
cd ~/sensor-api
docker-compose up -d
```

### –ú–µ—Ç–æ–¥ 2: –†—É—á–Ω–æ–π (–±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è)

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ:**
```bash
# 1. –í–æ–π—Ç–∏ –≤ Docker Hub
docker login

# 2. –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—à–∏—Ç—å (–∑–∞–º–µ–Ω–∏—Ç–µ YOUR_USERNAME)
docker build -t YOUR_USERNAME/sensor-api:latest .
docker push YOUR_USERNAME/sensor-api:latest
```

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
# 1. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å Docker
curl -fsSL https://get.docker.com | sudo sh
sudo usermod -aG docker $USER
sudo apt install docker-compose -y

# 2. –°–æ–∑–¥–∞—Ç—å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
mkdir ~/sensor-api && cd ~/sensor-api

# –°–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å docker-compose.prod.yml –∫–∞–∫ docker-compose.yml
# –°–æ–∑–¥–∞—Ç—å .env —Ñ–∞–π–ª (—Å–º. .env.production)

# 3. –ó–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose up -d
```

–ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏: `DEPLOY_RU.md`

---

## ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ—Å–ª–µ –¥–µ–ø–ª–æ—è

```bash
# 1. –°—Ç–∞—Ç—É—Å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
docker-compose ps

# 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ API
curl http://localhost:8000/health
# –û—Ç–≤–µ—Ç: {"status":"healthy"}

# 3. –õ–æ–≥–∏
docker-compose logs -f api

# 4. –û—Ç–∫—Ä—ã—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
http://YOUR_SERVER_IP:8000/docs
```

---

## üîÑ –ö–∞–∫ –æ–±–Ω–æ–≤–ª—è—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ

**–ù–∞ –ª–æ–∫–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω–µ** (–ø–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π –≤ –∫–æ–¥–µ):
```bash
./deploy.sh
```

**–ù–∞ —Å–µ—Ä–≤–µ—Ä–µ:**
```bash
cd ~/sensor-api
docker-compose pull
docker-compose up -d
```

---

## üìä –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

```bash
# –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏
docker-compose logs -f         # –í—Å–µ –ª–æ–≥–∏
docker-compose logs -f api     # –¢–æ–ª—å–∫–æ API

# –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
docker-compose restart         # –ü–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å
docker-compose stop            # –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å
docker-compose start           # –ó–∞–ø—É—Å—Ç–∏—Ç—å

# –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ
docker-compose pull            # –°–∫–∞—á–∞—Ç—å –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é
docker-compose up -d           # –ü—Ä–∏–º–µ–Ω–∏—Ç—å

# –ü–æ–ª–Ω–∞—è –æ—Å—Ç–∞–Ω–æ–≤–∫–∞
docker-compose down            # –£–¥–∞–ª–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä—ã (–¥–∞–Ω–Ω—ã–µ –æ—Å—Ç–∞—é—Ç—Å—è)
docker-compose down -v         # –£–¥–∞–ª–∏—Ç—å –≤—Å—ë (–û–°–¢–û–†–û–ñ–ù–û!)
```

---

## üîê –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –û–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:

1. **–°–º–µ–Ω–∏—Ç–µ –ø–∞—Ä–æ–ª–∏** –≤ `.env`:
   ```bash
   POSTGRES_PASSWORD=–≤–∞—à_–±–µ–∑–æ–ø–∞—Å–Ω—ã–π_–ø–∞—Ä–æ–ª—å
   ```

2. **–°–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ SECRET_KEY**:
   ```bash
   openssl rand -hex 32
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ firewall**:
   ```bash
   sudo ufw allow 22/tcp      # SSH
   sudo ufw allow 8000/tcp    # API
   sudo ufw enable
   ```

4. **–û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: Nginx + SSL** (—Å–º. `DEPLOY_RU.md`)

---

## üÜò –†–µ—à–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º

### –ö–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–µ –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è
```bash
docker-compose logs api
docker-compose restart
```

### –ü–æ—Ä—Ç –∑–∞–Ω—è—Ç
```bash
sudo netstat -tulpn | grep 8000
# –û—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø—Ä–æ—Ü–µ—Å—Å –∏–ª–∏ –∏–∑–º–µ–Ω–∏—Ç–µ –ø–æ—Ä—Ç –≤ docker-compose.yml
```

### –ë–î –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–∞
```bash
docker-compose exec db pg_isready -U sensor_user
docker-compose restart db
```

–ü–æ–¥—Ä–æ–±–Ω–µ–µ: `DEPLOY.md` (—Ä–∞–∑–¥–µ–ª Troubleshooting)

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ —Ñ–∞–π–ª–æ–≤ –¥–ª—è –¥–µ–ø–ª–æ—è

```
suv-sensor-api/
‚îú‚îÄ‚îÄ üê≥ Docker –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ Dockerfile
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.yml          # –î–ª—è –ª–æ–∫–∞–ª—å–Ω–æ–π —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
‚îÇ   ‚îú‚îÄ‚îÄ docker-compose.prod.yml     # –î–ª—è –ø—Ä–æ–¥–∞–∫—à–Ω–∞
‚îÇ   ‚îú‚îÄ‚îÄ .dockerignore
‚îÇ   ‚îú‚îÄ‚îÄ .env.production             # –®–∞–±–ª–æ–Ω
‚îÇ   ‚îî‚îÄ‚îÄ .env                        # –°–æ–∑–¥–∞—ë—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ
‚îÇ
‚îú‚îÄ‚îÄ üöÄ –°–∫—Ä–∏–ø—Ç—ã –¥–µ–ø–ª–æ—è
‚îÇ   ‚îú‚îÄ‚îÄ deploy.sh                   # –î–µ–ø–ª–æ–π –Ω–∞ Docker Hub
‚îÇ   ‚îî‚îÄ‚îÄ server-setup.sh             # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞
‚îÇ
‚îú‚îÄ‚îÄ üìö –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îÇ   ‚îú‚îÄ‚îÄ README_DEPLOY.md            # –≠—Ç–æ—Ç —Ñ–∞–π–ª
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOY_RU.md                # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (RU)
‚îÇ   ‚îú‚îÄ‚îÄ DEPLOY.md                   # –ü–æ–ª–Ω–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è (EN)
‚îÇ   ‚îî‚îÄ‚îÄ QUICK_DEPLOY.txt            # –®–ø–∞—Ä–≥–∞–ª–∫–∞
‚îÇ
‚îî‚îÄ‚îÄ üì± –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
    ‚îú‚îÄ‚îÄ app/
    ‚îú‚îÄ‚îÄ requirements.txt
    ‚îî‚îÄ‚îÄ README.md
```

---

## üéì –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è

- **API –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: `http://YOUR_IP:8000/docs`
- **–ü—Ä–∏–º–µ—Ä—ã API**: `API_EXAMPLES.md`
- **–õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: `README.md`
- **Docker —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞**: `DOCKER.md`
- **Production –¥–µ–ø–ª–æ–π**: `DEPLOY_RU.md` –∏–ª–∏ `DEPLOY.md`

---

## üìû –ë—ã—Å—Ç—Ä–∞—è –ø–æ–º–æ—â—å

| –í–æ–ø—Ä–æ—Å | –û—Ç–≤–µ—Ç |
|--------|-------|
| –ö–∞–∫ –∑–∞–¥–µ–ø–ª–æ–∏—Ç—å? | `./deploy.sh` ‚Üí —Å–∫–æ–ø–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Å–µ—Ä–≤–µ—Ä ‚Üí `docker-compose up -d` |
| –ö–∞–∫ –æ–±–Ω–æ–≤–∏—Ç—å? | `./deploy.sh` ‚Üí –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ `docker-compose pull && up -d` |
| –ì–¥–µ –ª–æ–≥–∏? | `docker-compose logs -f api` |
| –ö–∞–∫ –ø–µ—Ä–µ–∑–∞–ø—É—Å—Ç–∏—Ç—å? | `docker-compose restart` |
| –ö–∞–∫ –æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å? | `docker-compose stop` |
| –ü—Ä–æ–±–ª–µ–º—ã? | –°–º. `DEPLOY.md` —Ä–∞–∑–¥–µ–ª Troubleshooting |

---

## ‚ö° TL;DR - –°–∞–º–æ–µ –∫–æ—Ä–æ—Ç–∫–æ–µ —Ä–µ–∑—é–º–µ

```bash
# –õ–æ–∫–∞–ª—å–Ω–æ
./deploy.sh

# –ù–∞ —Å–µ—Ä–≤–µ—Ä–µ
bash server-setup.sh
cd ~/sensor-api && docker-compose up -d

# –ü—Ä–æ–≤–µ—Ä–∏—Ç—å
curl http://localhost:8000/health
```

**üéâ –ì–æ—Ç–æ–≤–æ –∫ –ø—Ä–æ–¥–∞–∫—à–Ω—É!**

---

–ß–∏—Ç–∞–π—Ç–µ `DEPLOY_RU.md` –¥–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∏–ª–∏ `QUICK_DEPLOY.txt` –¥–ª—è —à–ø–∞—Ä–≥–∞–ª–∫–∏.
